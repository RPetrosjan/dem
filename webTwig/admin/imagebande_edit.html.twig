{% extends '@SonataAdmin/CRUD/edit.html.twig' %}

{% block form  %}

    FORM BLOCOK
    {{ parent() }}
    <script>


        function Initialisation () {
            $('.filepath').unbind('click').click(function () {
                $(this).next().click();
            });

            $('input[type="file"]').unbind('change').change(function(){
                var imgob = $(this).prev();
                readURL(this,imgob);
            });

        }

        function InitialisationClickAdd() {

            setTimeout(function(){
                $('.sonata-collection-add').unbind('click').click(function () {
                    InitialisationClickAdd();
                });
                Initialisation();
            }, 300);

        }


        function readURL(input,imgob) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    ////  $('#blah').attr('src', e.target.result);
                    imgob.attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }

      ///  Initialisation();
        InitialisationClickAdd();



    </script>

    <style>
        .filepath{
            cursor: pointer;
        }
        .filepath:hover{
            box-shadow: 0px 0px 15px 0px black;
        }

    </style>

{% endblock %}